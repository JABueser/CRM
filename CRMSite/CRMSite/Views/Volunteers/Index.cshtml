@model CRMSite.Models.HourViewModel

<h2 class="center-block">Volunteers</h2>

<table class="table">
    <tr>
        <th>
            First Name
        </th>
        <th>
            Last Name
        </th>
        <th>
            E-Mail Address
        </th>
        <th>
            Category(s)
        </th>
        <th>
            Total Hours
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model.Vols)
    {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.FirstName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.LastName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Email)
        </td>
        <td>
            |
            @foreach (var c in item.Categories)
            {
                @(c.Category1 + " | ")
            }
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.TotalHours)
        </td>
        <td>
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#@item.VolunteerID">
                Add Hours
            </button>

            @Html.ActionLink("Edit", "Edit", new { id = item.VolunteerID }) |
            @Html.ActionLink("Details", "Details", new { id = item.VolunteerID }) |
            @Html.ActionLink("Delete", "Delete", new { id = item.VolunteerID })
        </td>
    </tr>

    <div class="modal" id="@item.VolunteerID">
        <div class="modal-dialog">
            <div class="modal-content">
                @using (Html.BeginForm())
                {
                    <div class="modal-header">
                        <h4 class="modal-title">Add Hours</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body">
                        @item.FirstName @item.LastName
                        <br /><br />

                        <div class="form-group">
                            @Html.LabelFor(model => model.Date, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.Date, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Date, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.Hours, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.Hours, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Hours, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.CatName, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                <select id="CatName" name="CatName">
                                    <option value = 1>Doctor</option>
                                    <option value = 2>Dentist</option>
                                    <option value = 3>Nurse</option>
                                    <option value = 4>Chapel Ministry</option>
                                    <option value = 5>Bus Driver</option>
                                    <option value = 6>Office/Clerical</option>
                                    <option value = 7>Maintenance</option>
                                    <option value = 8>Auto Shop</option>
                                    <option value = 9>Food Service</option>
                                    <option value = 10>Mens Division</option>
                                    <option value = 11>Thrift Store</option>
                                    <option value = 12>Special Events</option>
                                    <option value = 13>Women, Children, and Families</option>
                                    <option value = 14>Job Training/Life Skills Instructor</option>
                                </select>
                                @Html.ValidationMessageFor(model => model.Hours, "", new { @class = "text-danger" })
                                <input id="VolID" name="VolID" type="hidden" value="@item.VolunteerID" />
                            </div>
                        </div>

                        <br /><br /><br /><br /><br /><br />
                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <input type="submit" value="Save" class="btn btn-default" />                      
                    </div>
                }
            </div>
        </div>
    </div>
}

</table>
